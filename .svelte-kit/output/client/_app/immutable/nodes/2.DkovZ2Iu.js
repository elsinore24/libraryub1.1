import{s as K,n as j,d as _,i as D,b as u,l as f,c as h,e as L,g as I,m as T,h as m,j as M,k as O,o as Q,a as G,f as P,t as U,p as z,q as R}from"../chunks/Dc1BERz9.js";import{e as A,u as W,d as X}from"../chunks/_RYpd6Br.js";import{S as Y,i as Z}from"../chunks/CFoqiGzc.js";import{e as B,l as ee}from"../chunks/DVNiFOi7.js";import{b as C}from"../chunks/D32n8VTX.js";const te=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{Map:ae}=te;function N(c,e,t){const l=c.slice();return l[4]=e[t],l}function se(c){let e,t=[],l=new ae,s=A(c[0]);const n=a=>a[4].id;for(let a=0;a<s.length;a+=1){let i=N(c,s,a),r=n(i);l.set(r,t[a]=J(r,i))}return{c(){e=m("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=h(a,"UL",{class:!0});var i=L(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(_),this.h()},h(){f(e,"class","space-y-4")},m(a,i){D(a,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(a,i){i&1&&(s=A(a[0]),t=W(t,i,n,1,a,s,l,e,X,J,null,N))},d(a){a&&_(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function le(c){let e,t="No evidence collected yet...";return{c(){e=m("p"),e.textContent=t,this.h()},l(l){e=h(l,"P",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-126n527"&&(e.textContent=t),this.h()},h(){f(e,"class","text-accent animate-flicker text-xl shadow-[0_0_20px_#ff0000]")},m(l,s){D(l,e,s)},p:j,d(l){l&&_(e)}}}function F(c){let e,t,l,s;return{c(){e=m("img"),this.h()},l(n){e=h(n,"IMG",{src:!0,alt:!0,class:!0,loading:!0}),this.h()},h(){z(e.src,t=""+(C+c[4].image))||f(e,"src",t),f(e,"alt","Evidence photo"),f(e,"class","w-full max-w-md mx-auto rounded-lg border border-primary/30 mt-4"),f(e,"loading","lazy")},m(n,a){D(n,e,a),l||(s=R(e,"error",c[2]),l=!0)},p(n,a){a&1&&!z(e.src,t=""+(C+n[4].image))&&f(e,"src",t)},d(n){n&&_(e),l=!1,s()}}}function J(c,e){let t,l,s=e[4].description+"",n,a,i,r,y=new Date(e[4].discovered_at||"").toLocaleString()+"",k,p,d=e[4].image&&F(e);return{key:c,first:null,c(){t=m("li"),l=m("p"),n=U(s),a=M(),d&&d.c(),i=M(),r=m("div"),k=U(y),p=M(),this.h()},l(v){t=h(v,"LI",{class:!0});var o=L(t);l=h(o,"P",{class:!0});var x=L(l);n=P(x,s),x.forEach(_),a=I(o),d&&d.l(o),i=I(o),r=h(o,"DIV",{class:!0});var S=L(r);k=P(S,y),S.forEach(_),p=I(o),o.forEach(_),this.h()},h(){f(l,"class","mb-2"),f(r,"class","text-sm text-accent/60 mt-2"),f(t,"class","evidence-card p-4 border border-accent/50 rounded bg-parchment text-black shadow-lg hover:shadow-[0_0_25px_#ff0000] transform hover:-rotate-1 transition-all duration-300"),this.first=t},m(v,o){D(v,t,o),u(t,l),u(l,n),u(t,a),d&&d.m(t,null),u(t,i),u(t,r),u(r,k),u(t,p)},p(v,o){e=v,o&1&&s!==(s=e[4].description+"")&&G(n,s),e[4].image?d?d.p(e,o):(d=F(e),d.c(),d.m(t,i)):d&&(d.d(1),d=null),o&1&&y!==(y=new Date(e[4].discovered_at||"").toLocaleString()+"")&&G(k,y)},d(v){v&&_(t),d&&d.d()}}}function re(c){let e,t,l,s,n,a=`The Haunted Library
      <span class="drip"></span>`,i,r,y=`<a href="${C}/library" class="w-40 h-40 mx-auto p-4 border border-accent rounded-full hover:bg-accent/10 transition-all duration-300 transform hover:scale-110 hover:rotate-3 shadow-[0_0_15px_#00ff00] text-parchment flex items-center justify-center text-center"><p class="text-sm md:text-base leading-snug">Uncover secrets hidden among ancient tomes...</p></a>`,k,p,d=`<a href="${C}/game" class="w-40 h-40 mx-auto p-4 border border-accent rounded-full hover:bg-accent/10 transition-all duration-300 transform hover:scale-110 hover:rotate-3 shadow-[0_0_15px_#00ff00] text-parchment flex items-center justify-center text-center"><p class="text-sm md:text-base leading-snug">Go to Game</p></a>`,v,o,x,S="Evidence Board",V;function $(b,w){return b[0].length===0?le:se}let H=$(c),g=H(c);return{c(){e=m("div"),t=m("div"),l=M(),s=m("div"),n=m("h1"),n.innerHTML=a,i=M(),r=m("div"),r.innerHTML=y,k=M(),p=m("div"),p.innerHTML=d,v=M(),o=m("div"),x=m("h3"),x.textContent=S,V=M(),g.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var w=L(e);t=h(w,"DIV",{class:!0}),L(t).forEach(_),l=I(w),s=h(w,"DIV",{class:!0});var E=L(s);n=h(E,"H1",{class:!0,"data-svelte-h":!0}),T(n)!=="svelte-ch3fct"&&(n.innerHTML=a),i=I(E),r=h(E,"DIV",{class:!0,"data-svelte-h":!0}),T(r)!=="svelte-12htbf"&&(r.innerHTML=y),k=I(E),p=h(E,"DIV",{class:!0,"data-svelte-h":!0}),T(p)!=="svelte-oeumsq"&&(p.innerHTML=d),v=I(E),o=h(E,"DIV",{class:!0});var q=L(o);x=h(q,"H3",{class:!0,"data-svelte-h":!0}),T(x)!=="svelte-h7wnxu"&&(x.textContent=S),V=I(q),g.l(q),q.forEach(_),E.forEach(_),w.forEach(_),this.h()},h(){f(t,"class","mist"),f(n,"class","text-3xl md:text-4xl lg:text-5xl mb-12 text-parchment animate-fade-in transform scale-95 hover:scale-100 transition-all duration-500 tracking-wide glow-title dripping-title"),f(r,"class","mb-12"),f(p,"class","mb-12"),f(x,"class","text-2xl md:text-3xl mb-6 text-parchment"),f(o,"class","w-full"),f(s,"class","max-w-xl w-full mx-auto text-center z-10"),f(e,"class","p-8 pt-16 animate-fade-in font-burton text-parchment flex flex-col items-center justify-start min-h-screen bg-gradient-to-b from-black via-obsidian to-gray-900 relative")},m(b,w){D(b,e,w),u(e,t),u(e,l),u(e,s),u(s,n),u(s,i),u(s,r),u(s,k),u(s,p),u(s,v),u(s,o),u(o,x),u(o,V),g.m(o,null)},p(b,[w]){H===(H=$(b))&&g?g.p(b,w):(g.d(1),g=H(b),g&&(g.c(),g.m(o,null)))},i:j,o:j,d(b){b&&_(e),g.d()}}}function ne(c){const e=new Map;return c.forEach(t=>{e.set(t.id,t)}),Array.from(e.values())}function ie(c,e,t){let l,s;O(c,B,a=>t(1,s=a)),Q(()=>{sessionStorage.getItem("sessionStarted")||(sessionStorage.setItem("sessionStarted","true"),B.set([]),localStorage.removeItem("evidence")),s.length===0&&ee(),setTimeout(()=>!0,100)});const n=a=>a.currentTarget.src=`${C}/default-clue.png`;return c.$$.update=()=>{c.$$.dirty&2&&t(0,l=ne(s))},[l,s,n]}class he extends Y{constructor(e){super(),Z(this,e,ie,re,K,{})}}export{he as component};
